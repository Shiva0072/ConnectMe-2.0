install express, mongoose, ejs, express-ejs-layouts
npm i --save-dev nodemon
make dirs : routes, models, controllers, config, views, assets
write the DB server
Write the experss server and  <CHECK>

Write the User_sign_up schema in models
Write a router [app.use("/",routefilePath) in index.js], controller and then call them from index. <CHECK>

Make some views with the help of ejs layouts. Set the middlewares in index.js
Acquire the express-ejs-layouts in index.js
set the view engine and views path dir 
use the express-ejs-layout as a middleware
app.use(expressLayouts); app.set("layout extractScripts", true); app.set('layout extractStyles', true);
make the _footer.ejs,_header.ejs and  layout.ejs 
finally make a view and render it through the controller <CHECK>

Commit to git. using the .gitignore

Create some more routes - userSignup and userSignin page
make some controllers, write some respective views and then call in the routes
Incase of forms, in the action we need to mention the "correct and complete route" [for the routes written across diff files]

==========================================================================================================================================================================================
Sending mails:-
https://dev.to/fawazsullia/how-to-send-email-with-node-js-for-free-4okc
Nodemailer is used to send the emails.
Create a nodemailer transporter object and use this object to send the emails. 
    Here, after creating the nodemailer object in Config file, we use it to send emails via function defined in mailers folder.
        This function for sending the emails is being called everytime when a new comment is made. We obviously need to send some info along with it [function argument]. 

Parallel Jobs:-
https://blog.jscrambler.com/queue-jobs-kue
Kue creates queues for several jobs( which are simulated as if running parallel). These are stored via redis in the RAM in JSON format[key-value pair].
Redis Server maintians the queues. We can say it is a DB maintianing delayed jobs. They could be stored in some permanent storage also. Ram is temporary. 
Kue is a Node.js package that provides a level of abstraction over Redis queues, as well as providing some useful tools for monitoring your jobs
Redis could also be used for caching. Say a video/post is going viral, it can cached in localStorage and everytime user requests for it, it would be sending infor w/o querying the dB.
Workers constantly ping the queues to take up the jobs based on their priority and complete them. Thus they handle queues.

Overall=> When a new comment is there, add this task(sending emails) to the queue. and then this queue runs the task via nodemialer. 
==========================================================================================================================================================================================

Password reset is one of the best way for revising the nodemailer and routing

Part 1: Sending email to the user for resetting the password with accessToken
    Create routes for entering the email of the user.
    Using this email, get the user from the dB and then create the token-doc using the TokenSchema.
    grab the accessToken and build the link. Send this link via mail to the user.
Part 2: Change the password
    Grab the access token. Inorder to make it available to the function to be called after the user enters the passwords
    we pass it into the form as a hidden tag and extract it later.(other ways are also possible).
    In the final stage, extract the token, and then get the user with this token and update the password.
Part 3: Deploy the jobs in queues using Kue
    The task of mailing is now handled by the Kue, We create the queue and add tasks into the queue. Workers completes the tasks in queues.
    But before creating tasks, we first need to create process function for this queue which will be handling the array of jobs. Workers ping them and complete the job.
    We now need to just add task into the queue, using queue.create("taskName", {information}). 
        Note: 2 imp things=> both queue config file and workers needs to be imported for task assignment

