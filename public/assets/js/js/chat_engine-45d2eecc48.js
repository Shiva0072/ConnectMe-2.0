class ChatEngine{constructor(s,e){this.chatBox=$("#"+s),this.userEmail=e,this.CHATROOM="myRoom",this.socket=io.connect("http://localhost:5000"),this.userEmail&&this.connectHandler()}connectHandler(){let a=this;this.socket.on("connect",function(){console.log("connection established using Web-sockets....!"),a.socket.emit("joinRoom",{user_email:a.userEmail,chatRoom:a.CHATROOM})}),$("#send-message").on("click",()=>{var s=$("#chat-message-input").val();""!=s&&($("#chat-message-input").val(""),a.socket.emit("send_message",{msg:s,userEmail:a.userEmail,chatRoom:a.CHATROOM}))}),a.socket.on("rcvd_msg",s=>{let e=$("<li>").html(`<span>${s.msg}<span/>`),t;t=s.userEmail!=a.userEmail?"other-message":"self-message",e.addClass(t),$("#chat-messages-list").append(e)})}}